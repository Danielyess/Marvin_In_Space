[gd_scene load_steps=11 format=4 uid="uid://j3k5hq3ywjtr"]

[ext_resource type="TileSet" uid="uid://cgoaqjyb343q3" path="res://resources/TileSets/Main_Tile_Set.tres" id="1_0861s"]
[ext_resource type="Script" uid="uid://bjcx0lsm0velm" path="res://Scripts/hit_box.gd" id="2_f3cfk"]
[ext_resource type="Script" uid="uid://c7xlswb662q1m" path="res://Scripts/power_grid.gd" id="4_lq7pf"]
[ext_resource type="Script" uid="uid://bnk5b2ptmbdnt" path="res://Scripts/power_line.gd" id="5_gmd6l"]
[ext_resource type="PackedScene" uid="uid://b5dr7q8wglje5" path="res://Scenes/lever.tscn" id="6_ejqre"]
[ext_resource type="PackedScene" uid="uid://p04j5jtsnw4v" path="res://Scenes/end_of_level_door.tscn" id="7_33qgo"]
[ext_resource type="PackedScene" uid="uid://b7v3wh34e60nq" path="res://Scenes/switch_box.tscn" id="7_f3cfk"]
[ext_resource type="PackedScene" uid="uid://mevhu58gyfpf" path="res://Scenes/door.tscn" id="8_d7xhg"]
[ext_resource type="PackedScene" uid="uid://c87y1ft2pdqgc" path="res://Scenes/electric_fence.tscn" id="9_sgyuc"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_lmd5f"]

[node name="Map0" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAfAAIAAQAEAAQAAAAgAAIAAQAEAAQAAAAhAAIAAQAEAAQAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAEAAAAEAAkAAQAAAAEAAAAEAAoAAQAAAAEAAAAEAAsAAQAAAAEAAAAEAAwAAQAAAAQAAAAEAA0AAQAAAAEAAAAEAA4AAQAAAAEAAAAFAAcAAQABAAAAAAAFAAgAAQABAAEAAAAFAAkAAQABAAEAAAAFAAoAAQABAAEAAAAFAAsAAQABAAEAAAAFAAwAAQABAAQAAAAFAA0AAQABAAEAAAAFAA4AAQABAAEAAAAGAAcAAQABAAAAAAAGAAgAAQABAAEAAAAGAAkAAQABAAEAAAAGAAoAAQABAAEAAAAGAAsAAQABAAEAAAAGAAwAAQABAAQAAAAGAA0AAQABAAEAAAAGAA4AAQABAAEAAAAHAAcAAQABAAAAAAAHAAgAAQABAAEAAAAHAAkAAQABAAEAAAAHAAoAAQABAAEAAAAHAAsAAQABAAEAAAAHAAwAAQABAAQAAAAHAA0AAQABAAEAAAAHAA4AAQABAAEAAAAIAAcAAQABAAAAAAAIAAgAAQABAAEAAAAIAAkAAQABAAEAAAAIAAoAAQABAAEAAAAIAAsAAQABAAEAAAAIAAwAAQABAAQAAAAIAA0AAQABAAEAAAAIAA4AAQABAAEAAAAJAAcAAQABAAAAAAAJAAgAAQABAAEAAAAJAAkAAQABAAEAAAAJAAoAAQABAAEAAAAJAAsAAQABAAEAAAAJAAwAAQABAAQAAAAJAA0AAQABAAEAAAAJAA4AAQABAAEAAAAKAAcAAQABAAAAAAAKAAgAAQABAAEAAAAKAAkAAQABAAEAAAAKAAoAAQABAAEAAAAKAAsAAQABAAEAAAAKAAwAAQABAAQAAAAKAA0AAQABAAEAAAAKAA4AAQABAAEAAAALAAcAAQABAAAAAAALAAgAAQABAAEAAAALAAkAAQABAAEAAAALAAoAAQABAAEAAAALAAsAAQABAAEAAAALAAwAAQABAAQAAAALAA0AAQABAAEAAAALAA4AAQABAAEAAAAMAAcAAQABAAAAAAAMAAgAAQABAAEAAAAMAAkAAQABAAEAAAAMAAoAAQABAAEAAAAMAAsAAQABAAEAAAAMAAwAAQABAAQAAAAMAA0AAQABAAEAAAAMAA4AAQABAAEAAAANAAcAAQABAAAAAAANAAgAAQABAAEAAAANAAkAAQABAAEAAAANAAoAAQABAAEAAAANAAsAAQABAAEAAAANAAwAAQABAAQAAAANAA0AAQABAAEAAAANAA4AAQABAAEAAAAOAAcAAQABAAAAAAAOAAgAAQABAAEAAAAOAAkAAQABAAEAAAAOAAoAAQABAAEAAAAOAAsAAQABAAEAAAAOAAwAAQABAAQAAAAOAA0AAQABAAEAAAAOAA4AAQABAAEAAAAPAAcAAQABAAAAAAAPAAgAAQABAAEAAAAPAAkAAQABAAEAAAAPAAoAAQABAAEAAAAPAAsAAQABAAEAAAAPAAwAAQACAAQAAAAPAA0AAQABAAEAAAAPAA4AAQABAAEAAAAQAAcAAQABAAAAAAAQAAgAAQABAAEAAAAQAAkAAQABAAEAAAAQAAoAAQABAAEAAAAQAAsAAQABAAEAAAAQAAwAAQAEAAYAAAAQAA0AAQABAAEAAAAQAA4AAQABAAEAAAARAAcAAQABAAAAAAARAAgAAQABAAEAAAARAAkAAQABAAEAAAARAAoAAQABAAEAAAARAAsAAQABAAEAAAARAAwAAQAEAAYAAAARAA0AAQABAAEAAAARAA4AAQABAAEAAAASAAcAAQABAAAAAAASAAgAAQABAAEAAAASAAkAAQABAAEAAAASAAoAAQABAAEAAAASAAsAAQABAAEAAAASAAwAAQAEAAYAAAASAA0AAQABAAEAAAASAA4AAQABAAEAAAATAAcAAQABAAAAAAATAAgAAQABAAEAAAATAAkAAQABAAEAAAATAAoAAQABAAEAAAATAAsAAQABAAEAAAATAAwAAQABAAEAAAATAA0AAQABAAEAAAATAA4AAQABAAEAAAAUAAcAAQABAAAAAAAUAAgAAQABAAEAAAAUAAkAAQABAAEAAAAUAAoAAQABAAEAAAAUAAsAAQABAAEAAAAUAAwAAQABAAEAAAAUAA0AAQABAAEAAAAUAA4AAQABAAEAAAAVAAcAAQABAAAAAAAVAAgAAQABAAEAAAAVAAkAAQABAAEAAAAVAAoAAQABAAEAAAAVAAsAAQABAAEAAAAVAAwAAQABAAEAAAAVAA0AAQABAAEAAAAVAA4AAQABAAEAAAAWAAcAAQABAAAAAAAWAAgAAQABAAEAAAAWAAkAAQABAAEAAAAWAAoAAQABAAEAAAAWAAsAAQABAAEAAAAWAAwAAQABAAEAAAAWAA0AAQABAAEAAAAWAA4AAQABAAEAAAAXAAcAAQABAAAAAAAXAAgAAQABAAEAAAAXAAkAAQABAAEAAAAXAAoAAQABAAEAAAAXAAsAAQABAAEAAAAXAAwAAQABAAEAAAAXAA0AAQABAAEAAAAXAA4AAQABAAEAAAAYAAcAAQABAAAAAAAYAAgAAQABAAEAAAAYAAkAAQABAAEAAAAYAAoAAQABAAEAAAAYAAsAAQABAAEAAAAYAAwAAQABAAEAAAAYAA0AAQABAAEAAAAYAA4AAQABAAEAAAAZAAcAAQABAAAAAAAZAAgAAQABAAEAAAAZAAkAAQABAAEAAAAZAAoAAQABAAEAAAAZAAsAAQABAAEAAAAZAAwAAQABAAEAAAAZAA0AAQABAAEAAAAZAA4AAQABAAEAAAAaAAcAAQABAAAAAAAaAAgAAQABAAEAAAAaAAkAAQABAAEAAAAaAAoAAQABAAEAAAAaAAsAAQABAAEAAAAaAAwAAQAAAAYAAAAaAA0AAQABAAEAAAAaAA4AAQABAAEAAAAbAAcAAQABAAAAAAAbAAgAAQABAAEAAAAbAAkAAQABAAEAAAAbAAoAAQABAAEAAAAbAAsAAQABAAEAAAAbAAwAAQABAAQAAAAbAA0AAQABAAEAAAAbAA4AAQABAAEAAAAcAAcAAQAEAAAAAAAcAAgAAQAEAAEAAAAcAAkAAQAEAAEAAAAcAAoAAQAEAAIAAAAcAAsAAQABAAEAAAAcAAwAAQABAAQAAAAcAA0AAQABAAEAAAAcAA4AAQABAAEAAAAdAAcAAQABAAAAAAAdAAgAAQABAAEAAAAdAAkAAQABAAEAAAAdAAoAAQABAAEAAAAdAAsAAQABAAEAAAAdAAwAAQABAAQAAAAdAA0AAQABAAEAAAAdAA4AAQABAAEAAAAeAAcAAQABAAAAAAAeAAgAAQABAAEAAAAeAAkAAQABAAEAAAAeAAoAAQABAAEAAAAeAAsAAQABAAEAAAAeAAwAAQABAAQAAAAeAA0AAQABAAEAAAAeAA4AAQABAAEAAAAfAAcAAQABAAAAAAAfAAgAAQABAAEAAAAfAAkAAQABAAEAAAAfAAoAAQABAAEAAAAfAAsAAQABAAEAAAAfAAwAAQABAAQAAAAfAA0AAQABAAEAAAAfAA4AAQABAAEAAAAgAAcAAQABAAAAAAAgAAgAAQABAAEAAAAgAAkAAQABAAEAAAAgAAoAAQABAAEAAAAgAAsAAQABAAEAAAAgAAwAAQABAAQAAAAgAA0AAQABAAEAAAAgAA4AAQABAAEAAAAhAAcAAQABAAAAAAAhAAgAAQABAAEAAAAhAAkAAQABAAEAAAAhAAoAAQABAAEAAAAhAAsAAQABAAEAAAAhAAwAAQABAAQAAAAhAA0AAQABAAEAAAAhAA4AAQABAAEAAAAiAAcAAQABAAAAAAAiAAgAAQABAAEAAAAiAAkAAQABAAEAAAAiAAoAAQABAAEAAAAiAAsAAQABAAEAAAAiAAwAAQABAAQAAAAiAA0AAQABAAEAAAAiAA4AAQABAAEAAAAjAAcAAQACAAAAAAAjAAgAAQACAAEAAAAjAAkAAQACAAEAAAAjAAoAAQACAAEAAAAjAAsAAQACAAEAAAAjAAwAAQACAAYAAAAjAA0AAQACAAEAAAAjAA4AAQACAAEAAAAEAA8AAQAAAAEAAAAEABAAAQAAAAEAAAAEABEAAQAAAAIAAAAFAA8AAQABAAEAAAAFABAAAQABAAEAAAAFABEAAQABAAIAAAAGAA8AAQABAAEAAAAGABAAAQABAAEAAAAGABEAAQABAAIAAAAHAA8AAQABAAEAAAAHABAAAQABAAEAAAAHABEAAQABAAIAAAAIAA8AAQABAAEAAAAIABAAAQABAAEAAAAIABEAAQABAAIAAAAJAA8AAQABAAEAAAAJABAAAQABAAEAAAAJABEAAQABAAIAAAAKAA8AAQABAAEAAAAKABAAAQABAAEAAAAKABEAAQABAAIAAAALAA8AAQABAAEAAAALABAAAQABAAEAAAALABEAAQABAAIAAAAMAA8AAQABAAEAAAAMABAAAQABAAEAAAAMABEAAQABAAIAAAANAA8AAQABAAEAAAANABAAAQABAAEAAAANABEAAQABAAIAAAAOAA8AAQABAAEAAAAOABAAAQABAAEAAAAOABEAAQABAAIAAAAPAA8AAQABAAEAAAAPABAAAQABAAEAAAAPABEAAQABAAIAAAAQAA8AAQABAAEAAAAQABAAAQABAAEAAAAQABEAAQABAAIAAAARAA8AAQABAAEAAAARABAAAQABAAEAAAARABEAAQABAAIAAAASAA8AAQABAAEAAAASABAAAQABAAEAAAASABEAAQABAAIAAAATAA8AAQABAAEAAAATABAAAQABAAEAAAATABEAAQABAAIAAAAUAA8AAQABAAEAAAAUABAAAQABAAEAAAAUABEAAQABAAIAAAAVAA8AAQABAAEAAAAVABAAAQABAAEAAAAVABEAAQABAAIAAAAWAA8AAQABAAEAAAAWABAAAQABAAEAAAAWABEAAQABAAIAAAAXAA8AAQABAAEAAAAXABAAAQABAAEAAAAXABEAAQABAAIAAAAYAA8AAQABAAEAAAAYABAAAQABAAEAAAAYABEAAQABAAIAAAAZAA8AAQABAAEAAAAZABAAAQABAAEAAAAZABEAAQABAAIAAAAaAA8AAQABAAEAAAAaABAAAQABAAEAAAAaABEAAQABAAIAAAAbAA8AAQABAAEAAAAbABAAAQABAAEAAAAbABEAAQABAAIAAAAcAA8AAQABAAEAAAAcABAAAQABAAEAAAAcABEAAQABAAIAAAAdAA8AAQABAAEAAAAdABAAAQABAAEAAAAdABEAAQABAAIAAAAeAA8AAQABAAEAAAAeABAAAQABAAEAAAAeABEAAQABAAIAAAAfAA8AAQABAAEAAAAfABAAAQABAAEAAAAfABEAAQABAAIAAAAgAA8AAQABAAEAAAAgABAAAQABAAEAAAAgABEAAQABAAIAAAAhAA8AAQABAAEAAAAhABAAAQABAAEAAAAhABEAAQABAAIAAAAiAA8AAQABAAEAAAAiABAAAQABAAEAAAAiABEAAQABAAIAAAAjAA8AAQACAAEAAAAjABAAAQACAAEAAAAjABEAAQACAAIAAAA=")
tile_set = ExtResource("1_0861s")

[node name="Camera" type="Camera2D" parent="."]

[node name="Objects" type="Node2D" parent="."]
position = Vector2(4, 95)

[node name="SpawnPoint" type="Marker2D" parent="Objects"]
position = Vector2(211, 419)

[node name="HitBox" type="Area2D" parent="Objects"]
position = Vector2(96, 64)
script = ExtResource("2_f3cfk")
metadata/_custom_type_script = "uid://bjcx0lsm0velm"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Objects/HitBox"]
position = Vector2(-2, 641)
shape = SubResource("WorldBoundaryShape2D_lmd5f")

[node name="PowerGrid" type="Node" parent="Objects"]
script = ExtResource("4_lq7pf")

[node name="Wires" type="Node" parent="Objects/PowerGrid"]

[node name="PowerLine2D" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(-102, 161, -102, 177, 344, 177, 344, -30, 300, -30)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/Lever2")
reciever = NodePath("../../Recievers/EndOfLevelDoor")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="PowerLine2D2" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(-362, 0, -362, 17, -648, 17, -648, -142, 120, -142, 120, -33)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/Lever")
reciever = NodePath("../../Recievers/Door")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="PowerLine2D3" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(259, 109, 44, 31, -646, 177, -646, 8, -547, 8, -547, 1)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/SwitchBox")
reciever = NodePath("../../Recievers/Electric_Fence")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="PowerLine2D4" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(259, 110, 259, 105, 223, 105, 223, 173, 258, 173, 258, 140)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/SwitchBox")
reciever = NodePath("../../Emitters/SwitchBox")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="PowerLine2D5" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(312, 161, 312, 175, 262, 175, 262, 140)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/Lever5")
reciever = NodePath("../../Emitters/SwitchBox")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="PowerLine2D6" type="Line2D" parent="Objects/PowerGrid/Wires" node_paths=PackedStringArray("emitter", "reciever")]
position = Vector2(794, 384)
points = PackedVector2Array(140, 160, 140, 173, 266, 173, 266, 139)
width = 2.0
script = ExtResource("5_gmd6l")
emitter = NodePath("../../Emitters/Lever6")
reciever = NodePath("../../Emitters/SwitchBox")
metadata/_custom_type_script = "uid://bnk5b2ptmbdnt"

[node name="Emitters" type="Node" parent="Objects/PowerGrid"]

[node name="Lever2" parent="Objects/PowerGrid/Emitters" instance=ExtResource("6_ejqre")]
position = Vector2(693, 529)

[node name="Lever" parent="Objects/PowerGrid/Emitters" instance=ExtResource("6_ejqre")]
position = Vector2(433, 368)
current_state = 0

[node name="Lever3" parent="Objects/PowerGrid/Emitters" instance=ExtResource("6_ejqre")]
position = Vector2(538, 530)

[node name="SwitchBox" parent="Objects/PowerGrid/Emitters" node_paths=PackedStringArray("Wire0", "Wire1", "Wire2") instance=ExtResource("7_f3cfk")]
position = Vector2(1055, 508)
Subroutine = 6
Gate0 = 4
Gate1 = 3
Gate2 = 2
Wire0 = NodePath("../../Wires/PowerLine2D4")
Wire1 = NodePath("../../Wires/PowerLine2D5")
Wire2 = NodePath("../../Wires/PowerLine2D6")

[node name="Lever5" parent="Objects/PowerGrid/Emitters" instance=ExtResource("6_ejqre")]
position = Vector2(1107, 529)

[node name="Lever6" parent="Objects/PowerGrid/Emitters" instance=ExtResource("6_ejqre")]
position = Vector2(935, 529)

[node name="Recievers" type="Node" parent="Objects/PowerGrid"]

[node name="EndOfLevelDoor" parent="Objects/PowerGrid/Recievers" instance=ExtResource("7_33qgo")]
position = Vector2(1096, 368)

[node name="Door" parent="Objects/PowerGrid/Recievers" instance=ExtResource("8_d7xhg")]
position = Vector2(915, 367)

[node name="Electric_Fence" parent="Objects/PowerGrid/Recievers" instance=ExtResource("9_sgyuc")]
position = Vector2(292, 370)
